zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 3fdb37c563464c49b24b75703e0038ed
      name: BA/MIBs
  templates:
    - uuid: 6dd5ae1611594a04a59971e486b8ea98
      template: 'BA - MIB - UPS'
      name: 'BA - MIB - UPS (UPS)'
      vendor:
        name: 'below average'
        version: 0.0.0.0
      groups:
        - name: BA/MIBs
      items:
        - uuid: 71604f16c950452fa9209308ad0ef5c9
          name: 'Battery Charge'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.2.4.0
          key: snmp.ups.battery.charge
          delay: 5m
          history: 30d
          units: '%'
          tags:
            - tag: 'Item Type'
              value: Charge
        - uuid: 5ec4f24eb4e340778d4d2d8aa33dda35
          name: 'Battery Runtime'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.2.3.0
          key: snmp.ups.battery.runtime
          delay: 5m
          history: 30d
          units: s
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '60'
          tags:
            - tag: 'Item Type'
              value: Runtime
        - uuid: c63347bfd19348328c1fdf8a624bf2bf
          name: 'Battery Status'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.2.1.0
          key: snmp.ups.battery.status
          delay: 5m
          history: 30d
          valuemap:
            name: 'Battery Status'
          tags:
            - tag: 'Item Type'
              value: Status
        - uuid: 69e69d3b217c49fcaa798d4c17e0fffa
          name: 'Battery Temperature'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.2.7.0
          key: snmp.ups.battery.temperature
          delay: 5m
          history: 30d
          units: C
          tags:
            - tag: 'Item Type'
              value: Temperature
        - uuid: 79c701aeac944703b61efe8365e75c9c
          name: Model
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.1.2.0
          key: snmp.ups.model
          delay: 6h
          history: 30d
          value_type: CHAR
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: 'Item Type'
              value: Model
        - uuid: b97b642cc9e644f5bf444104d2fa184f
          name: 'UPS Alarms'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.6.1.0
          key: snmp.ups.ups.alarms
          delay: 5m
          history: 30d
          tags:
            - tag: 'Item Type'
              value: Alarms
          triggers:
            - uuid: 889f353b257f49d28ec3f6264efce1fe
              expression: 'last(/BA - MIB - UPS/snmp.ups.ups.alarms)>0'
              name: 'UPS Alarms > 0'
              priority: AVERAGE
              description: |
                There is an alarm on this UPS.
                
                The battery may need replaced, or there is another fault.
              manual_close: 'YES'
              tags:
                - tag: 'Trigger Type'
                  value: Threshold
        - uuid: 88f48d62d7ae42ff846cf7d3e0e75d4f
          name: 'UPS Input Frequency'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.3.3.1.2.1
          key: snmp.ups.ups.inputfreq
          delay: 5m
          history: 30d
          units: Hertz
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            - tag: 'Item Type'
              value: Hertz
        - uuid: 0407dae901c64220a4383c73877e767d
          name: 'UPS Input Voltage'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.3.3.1.3.1
          key: snmp.ups.ups.inputvoltage
          delay: 5m
          history: 30d
          units: Volts
          tags:
            - tag: 'Item Type'
              value: Voltage
        - uuid: dc34e74a1ef946cab41ce9b33094cb89
          name: 'UPS Status'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.2.1.33.1.4.1.0
          key: snmp.ups.ups.status
          delay: 5m
          history: 30d
          valuemap:
            name: 'UPS Status'
          tags:
            - tag: 'Item Type'
              value: Status
          triggers:
            - uuid: 9b574a1e3ecf4b39b0705847d47cb8aa
              expression: 'last(/BA - MIB - UPS/snmp.ups.ups.status)<>3'
              name: 'UPS Status not Normal'
              priority: WARNING
              manual_close: 'YES'
              tags:
                - tag: 'Trigger Type'
                  value: State
      tags:
        - tag: Agent
          value: SNMP
        - tag: 'Template Type'
          value: Poller
      dashboards:
        - uuid: 090b575c82c24738bb3326672240eae0
          name: 'üîã UPS'
          pages:
            - widgets:
                - type: item
                  name: '‚ùî Status'
                  width: '24'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BA - MIB - UPS'
                        key: snmp.ups.ups.status
                - type: graph
                  name: '‚ö°Ô∏è Battery Charge'
                  'y': '2'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BA - MIB - UPS'
                        name: 'Battery Charge'
                    - type: STRING
                      name: reference
                      value: AAAAV
                - type: graph
                  name: '„Äú UPS Input'
                  'y': '7'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'BA - MIB - UPS'
                        name: 'UPS Input'
                    - type: STRING
                      name: reference
                      value: AAAAW
                - type: graph
                  name: 'üå°Ô∏è Battery Temperature'
                  'y': '12'
                  width: '72'
                  height: '5'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BA - MIB - UPS'
                        key: snmp.ups.battery.temperature
                    - type: STRING
                      name: reference
                      value: AAAAX
                    - type: INTEGER
                      name: source_type
                      value: '1'
                - type: item
                  name: '‚ö†Ô∏è Alarms'
                  x: '24'
                  width: '24'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BA - MIB - UPS'
                        key: snmp.ups.ups.alarms
                - type: item
                  name: '‚úèÔ∏è Model'
                  x: '48'
                  width: '24'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'BA - MIB - UPS'
                        key: snmp.ups.model
                    - type: INTEGER
                      name: show.0
                      value: '2'
      valuemaps:
        - uuid: e1ea0ce38dba43fbbd6d91fd183681d3
          name: 'Battery Status'
          mappings:
            - value: '1'
              newvalue: '‚ùî Unkown'
            - value: '2'
              newvalue: 'üü¢ Battery Normal'
            - value: '3'
              newvalue: 'üü° Battery Low'
            - value: '4'
              newvalue: 'üî¥ Battery Depleated'
        - uuid: c99853b8a39749d7ab16c5d96c924906
          name: 'UPS Status'
          mappings:
            - value: '1'
              newvalue: '‚ùî Other'
            - value: '2'
              newvalue: '‚ö´Ô∏è None'
            - value: '3'
              newvalue: 'üü¢ Normal'
            - value: '4'
              newvalue: 'üü† Bypass'
            - value: '5'
              newvalue: 'üü° Battery'
            - value: '6'
              newvalue: 'üü° Booster'
            - value: '7'
              newvalue: 'üü° Reducer'
  graphs:
    - uuid: ab621a713e324752b7a53d0084914239
      name: 'Battery Charge'
      graph_items:
        - color: 199C0D
          calc_fnc: ALL
          item:
            host: 'BA - MIB - UPS'
            key: snmp.ups.battery.charge
        - sortorder: '1'
          color: F63100
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'BA - MIB - UPS'
            key: snmp.ups.battery.runtime
    - uuid: a2d389b4e1844b0aa6ce408286637096
      name: 'UPS Input'
      graph_items:
        - color: 199C0D
          calc_fnc: ALL
          item:
            host: 'BA - MIB - UPS'
            key: snmp.ups.ups.inputfreq
        - sortorder: '1'
          color: F63100
          yaxisside: RIGHT
          calc_fnc: ALL
          item:
            host: 'BA - MIB - UPS'
            key: snmp.ups.ups.inputvoltage

